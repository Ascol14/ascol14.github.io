<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Ascol57</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='style.css'>
    <script type="text/javascript" src="main.js"></script>
    <script src="TweenMax.js"></script>
    <script src="scrollissimo.js"></script>
</head>
<body>
    <!-- HTML -->
    <div class="blank"></div>

    <div id="header">
        <span id="title">Ascol57</span>
        <span id="subtitle">Développeur frontend</span>
    </div>

    <div id="section1">
        <span id="title1">Ceci est</span>
        <span id="subtitle1">mon premier site créatif.</span>
    </div>

    <div id="section2">
        <span id="title2">Mon parcours</span>
        <div id="path">
            <div id="step1" class="step">
                <p id="steptitle">Explodium</p>
                <p>Configuration de plugin, graphisme</p>
            </div>
            <div id="step2" class="step">
                <p id="steptitle">Particule informatique</p>
                <p>Admin-fondateur, Développement du site</p>
            </div>
            <div id="step3" class="step">
                <p id="steptitle">UltionRoid</p>
                <p>Développement du bot et du site</p>
            </div>
        </div>
    </div>

    <div id="section3">
        <span id="title3">Mes compétences</span>
        <div class="flex_section">
            <div id="competence_section1">
                <h2>Web</h2>

                <div class="competence">
                    <span class="label">HTML</span>
                    <input type="range" min="1" max="100" value="80" class="slider">
                    <span id="number">
                </div>
                <div class="competence">
                    <span class="label">CSS</span>
                    <input type="range" min="1" max="100" value="70" class="slider">
                    <span id="number">
                </div>
                <div class="competence">
                    <span class="label">JS (client)</span>
                    <input type="range" min="1" max="100" value="70" class="slider">
                    <span id="number">
                </div>
                <div class="competence">
                    <span class="label">NodeJS</span>
                    <input type="range" min="1" max="100" value="40" class="slider">
                    <span id="number">
                </div>
                <div class="competence">
                    <span class="label">PHP</span>
                    <input type="range" min="1" max="100" value="30" class="slider">
                    <span id="number">
                </div>
            </div>
            <div id="competence_section2">
                <h2>Graphisme</h2>
                <div class="competence">
                    <span class="label">Blender</span>
                    <input type="range" min="1" max="100" value="60" class="slider">
                    <span id="number">
                </div>
                <div class="competence">
                    <span class="label">Gimp</span>
                    <input type="range" min="1" max="100" value="80" class="slider">
                    <span id="number">
                </div>
                <div class="competence">
                    <span class="label">Inskape</span>
                    <input type="range" min="1" max="100" value="60" class="slider">
                    <span id="number">
                </div>
            </div>
        </div>
    </div>

    <script>
        const rangeInputs = document.querySelectorAll('input[type="range"]')
        const numberInputs = document.querySelectorAll('span[id="number"]')
        console.log(numberInputs)

        rangeInputs.forEach((element, index) => {
            const min = element.min
            const max = element.max
            const val = element.value

            numberInputs[index].innerHTML = val+" %"

            element.style.backgroundSize = (val - min) * 100 / (max - min) + '% 100%'
        });

        const min = rangeInputs.min
        const max = rangeInputs.max
        const val = rangeInputs.value
    </script>

    <script>
        var current_frame = 0;

        window.addEventListener('scroll', (event) => {
            scrollissimo.knock();
        });
        
        function addanimation(item, nb_frame, params) {
            var divyTween = TweenLite.to(item, nb_frame, params);
            scrollissimo.add(divyTween, current_frame, 30);
            current_frame += nb_frame
        }

        function suppranimation(nb_frame) {
            current_frame -= nb_frame
        }

        function wait(nb_frame) {
            current_frame += nb_frame
        }

        addanimation(document.getElementById('title'), 500, { fontSize: "30vh" });
        addanimation(document.getElementById('subtitle'), 500, { fontSize: "10vh" });

        wait(500)

        addanimation(document.getElementById('section1'), 200, { width: "100vw", height: "100vh" });

        addanimation(document.getElementById('title1'), 500, { fontSize: "20vh" });
        addanimation(document.getElementById('subtitle1'), 500, { fontSize: "10vh" });

        wait(500)

        addanimation(document.getElementById('section2'), 200, { width: "100vw", height: "100vh" });

        addanimation(document.getElementById('title2'), 500, { fontSize: "20vh" });

        addanimation(document.getElementById('step1'), 1, { display: "block" });
        addanimation(document.getElementById('step1'), 200, { height: "12vh" });

        addanimation(document.getElementById('step2'), 1, { display: "block" });
        addanimation(document.getElementById('step2'), 200, { height: "12vh" });

        addanimation(document.getElementById('step3'), 1, { display: "block" });
        addanimation(document.getElementById('step3'), 200, { height: "12vh" });

        wait(500)

        addanimation(document.getElementById('section3'), 200, { width: "100vw", height: "100vh" });

        addanimation(document.getElementById('title3'), 500, { fontSize: "20vh" });
        addanimation(document.getElementById('competence_section1'), 500, { opacity: "1" });
        suppranimation(500)
        addanimation(document.getElementById('competence_section2'), 500, { opacity: "1" });
    </script>
</body>
</html>